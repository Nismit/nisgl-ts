!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.NISGL=e():t.NISGL=e()}(this,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=16)}({0:function(t,e,n){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=13)}([,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={DEPTH_BUFFER_BIT:256,STENCIL_BUFFER_BIT:1024,COLOR_BUFFER_BIT:16384,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,ZERO:0,ONE:1,SRC_COLOR:768,ONE_MINUS_SRC_COLOR:769,SRC_ALPHA:770,ONE_MINUS_SRC_ALPHA:771,DST_ALPHA:772,ONE_MINUS_DST_ALPHA:773,DST_COLOR:774,ONE_MINUS_DST_COLOR:775,SRC_ALPHA_SATURATE:776,CONSTANT_COLOR:32769,ONE_MINUS_CONSTANT_COLOR:32770,CONSTANT_ALPHA:32771,ONE_MINUS_CONSTANT_ALPHA:32772,STATIC_DRAW:35044,STREAM_DRAW:35040,DYNAMIC_DRAW:35048,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,BUFFER_SIZE:34660,BUFFER_USAGE:34661,CURRENT_VERTEX_ATTRIB:34342,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){this._compiled=!1,this._gl=t,this._shader=e}return t.prototype.getShader=function(){return this._shader},t.prototype.deleteShader=function(){this._gl.context.deleteShader(this._shader)},t.prototype.isCompiled=function(){return this._compiled},t.prototype.compile=function(t){var e=this._gl.context;e.shaderSource(this._shader,t),e.compileShader(this._shader),this._compiled=e.getShaderParameter(this._shader,e.COMPILE_STATUS),this._compiled||this._gl.emitMessage(e.getShaderInfoLog(this._shader))},t}();e.default=r},function(t,e,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=o(n(1)),a=function(){function t(t,e){this._linked=!1,this._gl=t,this._program=e}return Object.defineProperty(t.prototype,"getProgram",{get:function(){return this._program},enumerable:!0,configurable:!0}),t.prototype.deleteProgram=function(){this._linked=!1,this._gl.context.deleteProgram(this._program)},t.prototype.linkProgram=function(t){var e=this,n=this._gl.context;t.forEach((function(t){n.attachShader(e._program,t.getShader())})),n.linkProgram(this._program),this._linked=n.getProgramParameter(this._program,n.LINK_STATUS),this._linked||this._gl.emitMessage(n.getProgramInfoLog(this._program))},t.prototype.getAttributeLocation=function(t){var e=this._gl.context,n=this._program;return e.getAttribLocation(n,t)},t.prototype.getUniformLocation=function(t){var e=this._gl.context,n=this._program;return e.getUniformLocation(n,t)},t.prototype.setAttribute=function(t,e,n,r,o,a,u){void 0===r&&(r=i.default.FLOAT),void 0===o&&(o=!1),void 0===a&&(a=0),void 0===u&&(u=0);var c=this._gl.context,s=this.getAttributeLocation(t);-1!==s?null!==n?(n.bindBuffer("position"),c.enableVertexAttribArray(s),c.vertexAttribPointer(s,e,r,o,a,u)):this._gl.emitMessage("Buffer Object does not set"):this._gl.emitMessage("Not found Attribute Location")},t.prototype.setUniform=function(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var i=this["uniform"+t],a=this.getUniformLocation(e);null!==a?i.call.apply(i,r([this,a],n)):this._gl.emitMessage("Not found Uniform Location or Does not use in the shader")},t.prototype.uniform1i=function(t,e){this._gl.context.uniform1i(t,e)},t.prototype.uniform2i=function(t,e,n){this._gl.context.uniform2i(t,e,n)},t.prototype.uniform3i=function(t,e,n,r){this._gl.context.uniform3i(t,e,n,r)},t.prototype.uniform4i=function(t,e,n,r,o){this._gl.context.uniform4i(t,e,n,r,o)},t.prototype.uniform1f=function(t,e){this._gl.context.uniform1f(t,e)},t.prototype.uniform2f=function(t,e,n){this._gl.context.uniform2f(t,e,n)},t.prototype.uniform3f=function(t,e,n,r){this._gl.context.uniform3f(t,e,n,r)},t.prototype.uniform4f=function(t,e,n,r,o){this._gl.context.uniform4f(t,e,n,r,o)},t.prototype.uniform1fv=function(t,e){this._gl.context.uniform1fv(t,e)},t.prototype.uniform2fv=function(t,e){this._gl.context.uniform2fv(t,e)},t.prototype.uniform3fv=function(t,e){this._gl.context.uniform3fv(t,e)},t.prototype.uniform4fv=function(t,e){this._gl.context.uniform4fv(t,e)},t.prototype.uniform1iv=function(t,e){this._gl.context.uniform1iv(t,e)},t.prototype.uniform2iv=function(t,e){this._gl.context.uniform2iv(t,e)},t.prototype.uniform3iv=function(t,e){this._gl.context.uniform3iv(t,e)},t.prototype.uniform4iv=function(t,e){this._gl.context.uniform4iv(t,e)},t.prototype.uniformMatrix2fv=function(t,e,n){void 0===n&&(n=!1),this._gl.context.uniformMatrix2fv(t,n,e)},t.prototype.uniformMatrix3fv=function(t,e,n){void 0===n&&(n=!1),this._gl.context.uniformMatrix3fv(t,n,e)},t.prototype.uniformMatrix4fv=function(t,e,n){void 0===n&&(n=!1),this._gl.context.uniformMatrix4fv(t,n,e)},t}();e.default=a},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(1)),i=function(){function t(t,e){this._isCreatedBuffer=!1,this._gl=t,this._buffer=e}return Object.defineProperty(t.prototype,"getBuffer",{get:function(){return this._buffer},enumerable:!0,configurable:!0}),t.prototype.deleteBuffer=function(){this._gl.context.deleteBuffer(this._buffer),this._isCreatedBuffer=!1},t.prototype.bindBuffer=function(t){var e=this._gl.context;if(this._isCreatedBuffer)switch(t){case"position":e.bindBuffer(e.ARRAY_BUFFER,this._buffer);break;case"index":e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._buffer);break;default:return void this._gl.emitMessage('Incorrect bind type. Should be "position" or "index"')}else this._gl.emitMessage("This buffer is not created yet")},t.prototype.createVertexPosition=function(t,e){void 0===e&&(e=o.default.STATIC_DRAW);var n=this._gl.context;n.bindBuffer(n.ARRAY_BUFFER,this._buffer),n.bufferData(n.ARRAY_BUFFER,t,e),n.bindBuffer(n.ARRAY_BUFFER,null),this._isCreatedBuffer=!0},t.prototype.createVertexIndex=function(t,e){void 0===e&&(e=o.default.STATIC_DRAW);var n=this._gl.context;n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this._buffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,t,e),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,null),this._isCreatedBuffer=!0},t}();e.default=i},,,,,,,,,function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=o(n(1));e.GL_CONST=i.default,r(n(14)),r(n(2)),r(n(3)),r(n(4))},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(2)),i=r(n(3)),a=r(n(4)),u=function(){function t(t){this._message=new Error("Exeption Error"),this._gl=t}return Object.defineProperty(t.prototype,"context",{get:function(){return this._gl},enumerable:!0,configurable:!0}),t.prototype.createShader=function(t){var e=this._gl.createShader(t);return null===e?(this.emitMessage(this._message),null):new o.default(this,e)},t.prototype.createProgram=function(){var t=this._gl.createProgram();return null===t?(this.emitMessage(this._message),null):new i.default(this,t)},t.prototype.useProgram=function(t){var e=this._gl;null!==t?e.useProgram(t.getProgram):this.emitMessage("There is no program, can not use the program")},t.prototype.createBuffer=function(){var t=this._gl.createBuffer();return null===t?(this.emitMessage(this._message),null):new a.default(this,t)},t.prototype.clear=function(t,e,n,r,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=1),void 0===o&&(o=1);var i=this._gl;i.clearColor(t,e,n,r),i.clearDepth(o),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)},t.prototype.emitMessage=function(t){throw"string"==typeof t?new Error(t):t||this._message},t}();e.default=u}])},15:function(t,e,n){},16:function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"create",(function(){return a})),n.d(r,"clone",(function(){return u})),n.d(r,"copy",(function(){return c})),n.d(r,"fromValues",(function(){return s})),n.d(r,"set",(function(){return f})),n.d(r,"identity",(function(){return l})),n.d(r,"transpose",(function(){return h})),n.d(r,"invert",(function(){return d})),n.d(r,"adjoint",(function(){return m})),n.d(r,"determinant",(function(){return p})),n.d(r,"multiply",(function(){return v})),n.d(r,"translate",(function(){return _})),n.d(r,"scale",(function(){return g})),n.d(r,"rotate",(function(){return M})),n.d(r,"rotateX",(function(){return x})),n.d(r,"rotateY",(function(){return y})),n.d(r,"rotateZ",(function(){return A})),n.d(r,"fromTranslation",(function(){return b})),n.d(r,"fromScaling",(function(){return E})),n.d(r,"fromRotation",(function(){return R})),n.d(r,"fromXRotation",(function(){return S})),n.d(r,"fromYRotation",(function(){return T})),n.d(r,"fromZRotation",(function(){return P})),n.d(r,"fromRotationTranslation",(function(){return I})),n.d(r,"fromQuat2",(function(){return N})),n.d(r,"getTranslation",(function(){return w})),n.d(r,"getScaling",(function(){return F})),n.d(r,"getRotation",(function(){return B})),n.d(r,"fromRotationTranslationScale",(function(){return O})),n.d(r,"fromRotationTranslationScaleOrigin",(function(){return L})),n.d(r,"fromQuat",(function(){return C})),n.d(r,"frustum",(function(){return U})),n.d(r,"perspective",(function(){return D})),n.d(r,"perspectiveFromFieldOfView",(function(){return G})),n.d(r,"ortho",(function(){return H})),n.d(r,"lookAt",(function(){return V})),n.d(r,"targetTo",(function(){return j})),n.d(r,"str",(function(){return k})),n.d(r,"frob",(function(){return Y})),n.d(r,"add",(function(){return q})),n.d(r,"subtract",(function(){return X})),n.d(r,"multiplyScalar",(function(){return W})),n.d(r,"multiplyScalarAndAdd",(function(){return Z})),n.d(r,"exactEquals",(function(){return Q})),n.d(r,"equals",(function(){return K})),n.d(r,"mul",(function(){return z})),n.d(r,"sub",(function(){return J}));n(15);var o=n(0),i="undefined"!=typeof Float32Array?Float32Array:Array;Math.random;Math.PI;function a(){var t=new i(16);return i!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function u(t){var e=new i(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function c(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function s(t,e,n,r,o,a,u,c,s,f,l,h,d,m,p,v){var _=new i(16);return _[0]=t,_[1]=e,_[2]=n,_[3]=r,_[4]=o,_[5]=a,_[6]=u,_[7]=c,_[8]=s,_[9]=f,_[10]=l,_[11]=h,_[12]=d,_[13]=m,_[14]=p,_[15]=v,_}function f(t,e,n,r,o,i,a,u,c,s,f,l,h,d,m,p,v){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=i,t[5]=a,t[6]=u,t[7]=c,t[8]=s,t[9]=f,t[10]=l,t[11]=h,t[12]=d,t[13]=m,t[14]=p,t[15]=v,t}function l(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function h(t,e){if(t===e){var n=e[1],r=e[2],o=e[3],i=e[6],a=e[7],u=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=i,t[11]=e[14],t[12]=o,t[13]=a,t[14]=u}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function d(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],u=e[5],c=e[6],s=e[7],f=e[8],l=e[9],h=e[10],d=e[11],m=e[12],p=e[13],v=e[14],_=e[15],g=n*u-r*a,M=n*c-o*a,x=n*s-i*a,y=r*c-o*u,A=r*s-i*u,b=o*s-i*c,E=f*p-l*m,R=f*v-h*m,S=f*_-d*m,T=l*v-h*p,P=l*_-d*p,I=h*_-d*v,N=g*I-M*P+x*T+y*S-A*R+b*E;return N?(N=1/N,t[0]=(u*I-c*P+s*T)*N,t[1]=(o*P-r*I-i*T)*N,t[2]=(p*b-v*A+_*y)*N,t[3]=(h*A-l*b-d*y)*N,t[4]=(c*S-a*I-s*R)*N,t[5]=(n*I-o*S+i*R)*N,t[6]=(v*x-m*b-_*M)*N,t[7]=(f*b-h*x+d*M)*N,t[8]=(a*P-u*S+s*E)*N,t[9]=(r*S-n*P-i*E)*N,t[10]=(m*A-p*x+_*g)*N,t[11]=(l*x-f*A-d*g)*N,t[12]=(u*R-a*T-c*E)*N,t[13]=(n*T-r*R+o*E)*N,t[14]=(p*M-m*y-v*g)*N,t[15]=(f*y-l*M+h*g)*N,t):null}function m(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],u=e[5],c=e[6],s=e[7],f=e[8],l=e[9],h=e[10],d=e[11],m=e[12],p=e[13],v=e[14],_=e[15];return t[0]=u*(h*_-d*v)-l*(c*_-s*v)+p*(c*d-s*h),t[1]=-(r*(h*_-d*v)-l*(o*_-i*v)+p*(o*d-i*h)),t[2]=r*(c*_-s*v)-u*(o*_-i*v)+p*(o*s-i*c),t[3]=-(r*(c*d-s*h)-u*(o*d-i*h)+l*(o*s-i*c)),t[4]=-(a*(h*_-d*v)-f*(c*_-s*v)+m*(c*d-s*h)),t[5]=n*(h*_-d*v)-f*(o*_-i*v)+m*(o*d-i*h),t[6]=-(n*(c*_-s*v)-a*(o*_-i*v)+m*(o*s-i*c)),t[7]=n*(c*d-s*h)-a*(o*d-i*h)+f*(o*s-i*c),t[8]=a*(l*_-d*p)-f*(u*_-s*p)+m*(u*d-s*l),t[9]=-(n*(l*_-d*p)-f*(r*_-i*p)+m*(r*d-i*l)),t[10]=n*(u*_-s*p)-a*(r*_-i*p)+m*(r*s-i*u),t[11]=-(n*(u*d-s*l)-a*(r*d-i*l)+f*(r*s-i*u)),t[12]=-(a*(l*v-h*p)-f*(u*v-c*p)+m*(u*h-c*l)),t[13]=n*(l*v-h*p)-f*(r*v-o*p)+m*(r*h-o*l),t[14]=-(n*(u*v-c*p)-a*(r*v-o*p)+m*(r*c-o*u)),t[15]=n*(u*h-c*l)-a*(r*h-o*l)+f*(r*c-o*u),t}function p(t){var e=t[0],n=t[1],r=t[2],o=t[3],i=t[4],a=t[5],u=t[6],c=t[7],s=t[8],f=t[9],l=t[10],h=t[11],d=t[12],m=t[13],p=t[14],v=t[15];return(e*a-n*i)*(l*v-h*p)-(e*u-r*i)*(f*v-h*m)+(e*c-o*i)*(f*p-l*m)+(n*u-r*a)*(s*v-h*d)-(n*c-o*a)*(s*p-l*d)+(r*c-o*u)*(s*m-f*d)}function v(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],u=e[4],c=e[5],s=e[6],f=e[7],l=e[8],h=e[9],d=e[10],m=e[11],p=e[12],v=e[13],_=e[14],g=e[15],M=n[0],x=n[1],y=n[2],A=n[3];return t[0]=M*r+x*u+y*l+A*p,t[1]=M*o+x*c+y*h+A*v,t[2]=M*i+x*s+y*d+A*_,t[3]=M*a+x*f+y*m+A*g,M=n[4],x=n[5],y=n[6],A=n[7],t[4]=M*r+x*u+y*l+A*p,t[5]=M*o+x*c+y*h+A*v,t[6]=M*i+x*s+y*d+A*_,t[7]=M*a+x*f+y*m+A*g,M=n[8],x=n[9],y=n[10],A=n[11],t[8]=M*r+x*u+y*l+A*p,t[9]=M*o+x*c+y*h+A*v,t[10]=M*i+x*s+y*d+A*_,t[11]=M*a+x*f+y*m+A*g,M=n[12],x=n[13],y=n[14],A=n[15],t[12]=M*r+x*u+y*l+A*p,t[13]=M*o+x*c+y*h+A*v,t[14]=M*i+x*s+y*d+A*_,t[15]=M*a+x*f+y*m+A*g,t}function _(t,e,n){var r,o,i,a,u,c,s,f,l,h,d,m,p=n[0],v=n[1],_=n[2];return e===t?(t[12]=e[0]*p+e[4]*v+e[8]*_+e[12],t[13]=e[1]*p+e[5]*v+e[9]*_+e[13],t[14]=e[2]*p+e[6]*v+e[10]*_+e[14],t[15]=e[3]*p+e[7]*v+e[11]*_+e[15]):(r=e[0],o=e[1],i=e[2],a=e[3],u=e[4],c=e[5],s=e[6],f=e[7],l=e[8],h=e[9],d=e[10],m=e[11],t[0]=r,t[1]=o,t[2]=i,t[3]=a,t[4]=u,t[5]=c,t[6]=s,t[7]=f,t[8]=l,t[9]=h,t[10]=d,t[11]=m,t[12]=r*p+u*v+l*_+e[12],t[13]=o*p+c*v+h*_+e[13],t[14]=i*p+s*v+d*_+e[14],t[15]=a*p+f*v+m*_+e[15]),t}function g(t,e,n){var r=n[0],o=n[1],i=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function M(t,e,n,r){var o,i,a,u,c,s,f,l,h,d,m,p,v,_,g,M,x,y,A,b,E,R,S,T,P=r[0],I=r[1],N=r[2],w=Math.hypot(P,I,N);return w<1e-6?null:(P*=w=1/w,I*=w,N*=w,o=Math.sin(n),a=1-(i=Math.cos(n)),u=e[0],c=e[1],s=e[2],f=e[3],l=e[4],h=e[5],d=e[6],m=e[7],p=e[8],v=e[9],_=e[10],g=e[11],M=P*P*a+i,x=I*P*a+N*o,y=N*P*a-I*o,A=P*I*a-N*o,b=I*I*a+i,E=N*I*a+P*o,R=P*N*a+I*o,S=I*N*a-P*o,T=N*N*a+i,t[0]=u*M+l*x+p*y,t[1]=c*M+h*x+v*y,t[2]=s*M+d*x+_*y,t[3]=f*M+m*x+g*y,t[4]=u*A+l*b+p*E,t[5]=c*A+h*b+v*E,t[6]=s*A+d*b+_*E,t[7]=f*A+m*b+g*E,t[8]=u*R+l*S+p*T,t[9]=c*R+h*S+v*T,t[10]=s*R+d*S+_*T,t[11]=f*R+m*S+g*T,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function x(t,e,n){var r=Math.sin(n),o=Math.cos(n),i=e[4],a=e[5],u=e[6],c=e[7],s=e[8],f=e[9],l=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=i*o+s*r,t[5]=a*o+f*r,t[6]=u*o+l*r,t[7]=c*o+h*r,t[8]=s*o-i*r,t[9]=f*o-a*r,t[10]=l*o-u*r,t[11]=h*o-c*r,t}function y(t,e,n){var r=Math.sin(n),o=Math.cos(n),i=e[0],a=e[1],u=e[2],c=e[3],s=e[8],f=e[9],l=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*o-s*r,t[1]=a*o-f*r,t[2]=u*o-l*r,t[3]=c*o-h*r,t[8]=i*r+s*o,t[9]=a*r+f*o,t[10]=u*r+l*o,t[11]=c*r+h*o,t}function A(t,e,n){var r=Math.sin(n),o=Math.cos(n),i=e[0],a=e[1],u=e[2],c=e[3],s=e[4],f=e[5],l=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*o+s*r,t[1]=a*o+f*r,t[2]=u*o+l*r,t[3]=c*o+h*r,t[4]=s*o-i*r,t[5]=f*o-a*r,t[6]=l*o-u*r,t[7]=h*o-c*r,t}function b(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function E(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function R(t,e,n){var r,o,i,a=n[0],u=n[1],c=n[2],s=Math.hypot(a,u,c);return s<1e-6?null:(a*=s=1/s,u*=s,c*=s,r=Math.sin(e),i=1-(o=Math.cos(e)),t[0]=a*a*i+o,t[1]=u*a*i+c*r,t[2]=c*a*i-u*r,t[3]=0,t[4]=a*u*i-c*r,t[5]=u*u*i+o,t[6]=c*u*i+a*r,t[7]=0,t[8]=a*c*i+u*r,t[9]=u*c*i-a*r,t[10]=c*c*i+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function S(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function T(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function P(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function I(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],u=r+r,c=o+o,s=i+i,f=r*u,l=r*c,h=r*s,d=o*c,m=o*s,p=i*s,v=a*u,_=a*c,g=a*s;return t[0]=1-(d+p),t[1]=l+g,t[2]=h-_,t[3]=0,t[4]=l-g,t[5]=1-(f+p),t[6]=m+v,t[7]=0,t[8]=h+_,t[9]=m-v,t[10]=1-(f+d),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function N(t,e){var n=new i(3),r=-e[0],o=-e[1],a=-e[2],u=e[3],c=e[4],s=e[5],f=e[6],l=e[7],h=r*r+o*o+a*a+u*u;return h>0?(n[0]=2*(c*u+l*r+s*a-f*o)/h,n[1]=2*(s*u+l*o+f*r-c*a)/h,n[2]=2*(f*u+l*a+c*o-s*r)/h):(n[0]=2*(c*u+l*r+s*a-f*o),n[1]=2*(s*u+l*o+f*r-c*a),n[2]=2*(f*u+l*a+c*o-s*r)),I(t,e,n),t}function w(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function F(t,e){var n=e[0],r=e[1],o=e[2],i=e[4],a=e[5],u=e[6],c=e[8],s=e[9],f=e[10];return t[0]=Math.hypot(n,r,o),t[1]=Math.hypot(i,a,u),t[2]=Math.hypot(c,s,f),t}function B(t,e){var n=new i(3);F(n,e);var r=1/n[0],o=1/n[1],a=1/n[2],u=e[0]*r,c=e[1]*o,s=e[2]*a,f=e[4]*r,l=e[5]*o,h=e[6]*a,d=e[8]*r,m=e[9]*o,p=e[10]*a,v=u+l+p,_=0;return v>0?(_=2*Math.sqrt(v+1),t[3]=.25*_,t[0]=(h-m)/_,t[1]=(d-s)/_,t[2]=(c-f)/_):u>l&&u>p?(_=2*Math.sqrt(1+u-l-p),t[3]=(h-m)/_,t[0]=.25*_,t[1]=(c+f)/_,t[2]=(d+s)/_):l>p?(_=2*Math.sqrt(1+l-u-p),t[3]=(d-s)/_,t[0]=(c+f)/_,t[1]=.25*_,t[2]=(h+m)/_):(_=2*Math.sqrt(1+p-u-l),t[3]=(c-f)/_,t[0]=(d+s)/_,t[1]=(h+m)/_,t[2]=.25*_),t}function O(t,e,n,r){var o=e[0],i=e[1],a=e[2],u=e[3],c=o+o,s=i+i,f=a+a,l=o*c,h=o*s,d=o*f,m=i*s,p=i*f,v=a*f,_=u*c,g=u*s,M=u*f,x=r[0],y=r[1],A=r[2];return t[0]=(1-(m+v))*x,t[1]=(h+M)*x,t[2]=(d-g)*x,t[3]=0,t[4]=(h-M)*y,t[5]=(1-(l+v))*y,t[6]=(p+_)*y,t[7]=0,t[8]=(d+g)*A,t[9]=(p-_)*A,t[10]=(1-(l+m))*A,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function L(t,e,n,r,o){var i=e[0],a=e[1],u=e[2],c=e[3],s=i+i,f=a+a,l=u+u,h=i*s,d=i*f,m=i*l,p=a*f,v=a*l,_=u*l,g=c*s,M=c*f,x=c*l,y=r[0],A=r[1],b=r[2],E=o[0],R=o[1],S=o[2],T=(1-(p+_))*y,P=(d+x)*y,I=(m-M)*y,N=(d-x)*A,w=(1-(h+_))*A,F=(v+g)*A,B=(m+M)*b,O=(v-g)*b,L=(1-(h+p))*b;return t[0]=T,t[1]=P,t[2]=I,t[3]=0,t[4]=N,t[5]=w,t[6]=F,t[7]=0,t[8]=B,t[9]=O,t[10]=L,t[11]=0,t[12]=n[0]+E-(T*E+N*R+B*S),t[13]=n[1]+R-(P*E+w*R+O*S),t[14]=n[2]+S-(I*E+F*R+L*S),t[15]=1,t}function C(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=n+n,u=r+r,c=o+o,s=n*a,f=r*a,l=r*u,h=o*a,d=o*u,m=o*c,p=i*a,v=i*u,_=i*c;return t[0]=1-l-m,t[1]=f+_,t[2]=h-v,t[3]=0,t[4]=f-_,t[5]=1-s-m,t[6]=d+p,t[7]=0,t[8]=h+v,t[9]=d-p,t[10]=1-s-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function U(t,e,n,r,o,i,a){var u=1/(n-e),c=1/(o-r),s=1/(i-a);return t[0]=2*i*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*i*c,t[6]=0,t[7]=0,t[8]=(n+e)*u,t[9]=(o+r)*c,t[10]=(a+i)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*i*2*s,t[15]=0,t}function D(t,e,n,r,o){var i,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=o&&o!==1/0?(i=1/(r-o),t[10]=(o+r)*i,t[14]=2*o*r*i):(t[10]=-1,t[14]=-2*r),t}function G(t,e,n,r){var o=Math.tan(e.upDegrees*Math.PI/180),i=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),u=Math.tan(e.rightDegrees*Math.PI/180),c=2/(a+u),s=2/(o+i);return t[0]=c,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=-(a-u)*c*.5,t[9]=(o-i)*s*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function H(t,e,n,r,o,i,a){var u=1/(e-n),c=1/(r-o),s=1/(i-a);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*s,t[11]=0,t[12]=(e+n)*u,t[13]=(o+r)*c,t[14]=(a+i)*s,t[15]=1,t}function V(t,e,n,r){var o,i,a,u,c,s,f,h,d,m,p=e[0],v=e[1],_=e[2],g=r[0],M=r[1],x=r[2],y=n[0],A=n[1],b=n[2];return Math.abs(p-y)<1e-6&&Math.abs(v-A)<1e-6&&Math.abs(_-b)<1e-6?l(t):(f=p-y,h=v-A,d=_-b,o=M*(d*=m=1/Math.hypot(f,h,d))-x*(h*=m),i=x*(f*=m)-g*d,a=g*h-M*f,(m=Math.hypot(o,i,a))?(o*=m=1/m,i*=m,a*=m):(o=0,i=0,a=0),u=h*a-d*i,c=d*o-f*a,s=f*i-h*o,(m=Math.hypot(u,c,s))?(u*=m=1/m,c*=m,s*=m):(u=0,c=0,s=0),t[0]=o,t[1]=u,t[2]=f,t[3]=0,t[4]=i,t[5]=c,t[6]=h,t[7]=0,t[8]=a,t[9]=s,t[10]=d,t[11]=0,t[12]=-(o*p+i*v+a*_),t[13]=-(u*p+c*v+s*_),t[14]=-(f*p+h*v+d*_),t[15]=1,t)}function j(t,e,n,r){var o=e[0],i=e[1],a=e[2],u=r[0],c=r[1],s=r[2],f=o-n[0],l=i-n[1],h=a-n[2],d=f*f+l*l+h*h;d>0&&(f*=d=1/Math.sqrt(d),l*=d,h*=d);var m=c*h-s*l,p=s*f-u*h,v=u*l-c*f;return(d=m*m+p*p+v*v)>0&&(m*=d=1/Math.sqrt(d),p*=d,v*=d),t[0]=m,t[1]=p,t[2]=v,t[3]=0,t[4]=l*v-h*p,t[5]=h*m-f*v,t[6]=f*p-l*m,t[7]=0,t[8]=f,t[9]=l,t[10]=h,t[11]=0,t[12]=o,t[13]=i,t[14]=a,t[15]=1,t}function k(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function Y(t){return Math.hypot(t[0],t[1],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function q(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function X(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function W(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function Z(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function Q(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function K(t,e){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],u=t[5],c=t[6],s=t[7],f=t[8],l=t[9],h=t[10],d=t[11],m=t[12],p=t[13],v=t[14],_=t[15],g=e[0],M=e[1],x=e[2],y=e[3],A=e[4],b=e[5],E=e[6],R=e[7],S=e[8],T=e[9],P=e[10],I=e[11],N=e[12],w=e[13],F=e[14],B=e[15];return Math.abs(n-g)<=1e-6*Math.max(1,Math.abs(n),Math.abs(g))&&Math.abs(r-M)<=1e-6*Math.max(1,Math.abs(r),Math.abs(M))&&Math.abs(o-x)<=1e-6*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(i-y)<=1e-6*Math.max(1,Math.abs(i),Math.abs(y))&&Math.abs(a-A)<=1e-6*Math.max(1,Math.abs(a),Math.abs(A))&&Math.abs(u-b)<=1e-6*Math.max(1,Math.abs(u),Math.abs(b))&&Math.abs(c-E)<=1e-6*Math.max(1,Math.abs(c),Math.abs(E))&&Math.abs(s-R)<=1e-6*Math.max(1,Math.abs(s),Math.abs(R))&&Math.abs(f-S)<=1e-6*Math.max(1,Math.abs(f),Math.abs(S))&&Math.abs(l-T)<=1e-6*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(h-P)<=1e-6*Math.max(1,Math.abs(h),Math.abs(P))&&Math.abs(d-I)<=1e-6*Math.max(1,Math.abs(d),Math.abs(I))&&Math.abs(m-N)<=1e-6*Math.max(1,Math.abs(m),Math.abs(N))&&Math.abs(p-w)<=1e-6*Math.max(1,Math.abs(p),Math.abs(w))&&Math.abs(v-F)<=1e-6*Math.max(1,Math.abs(v),Math.abs(F))&&Math.abs(_-B)<=1e-6*Math.max(1,Math.abs(_),Math.abs(B))}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var z=v,J=X;var $=function(){const t=document.querySelector("#canvas");t.width=document.documentElement.clientWidth,t.height=window.innerHeight;const e=t.getContext("webgl"),n=new o.NISGL(e);n.clear();const i=n.createShader(n.context.VERTEX_SHADER);i.compile("\nattribute vec3 position;\nuniform   mat4 mvpMatrix;\n\nvoid main(void){\n    gl_Position = mvpMatrix * vec4(position, 1.0);\n}");const a=n.createShader(n.context.FRAGMENT_SHADER);a.compile("\nvoid main(void){\n\tgl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\n}");const u=n.createProgram();u.linkProgram([i,a]),n.useProgram(u);const c=n.createBuffer(),s=new Float32Array([0,1,0,1,0,0,-1,0,0]);c.createVertexPosition(s),u.setAttribute("position",3,c);const f=r.create(),l=r.identity(r.create()),h=r.create(),d=r.create();r.lookAt(l,[0,1,3],[0,0,0],[0,1,0]),r.perspective(h,90,t.width/t.height,.1,100),r.multiply(d,h,l),r.multiply(d,d,f),u.setUniform("Matrix4fv","mvpMatrix",d),n.context.drawArrays(n.context.TRIANGLES,0,3),n.context.flush()};var tt=function(){const t=document.querySelector("#canvas");t.width=document.documentElement.clientWidth,t.height=window.innerHeight;const e=t.getContext("webgl"),n=new o.NISGL(e);n.clear();const i=n.createShader(n.context.VERTEX_SHADER);i.compile("\nattribute vec3 position;\nattribute vec4 color;\nuniform   mat4 mvpMatrix;\nvarying   vec4 vColor;\n\nvoid main(void) {\n    vColor = color;\n    gl_Position = mvpMatrix * vec4(position, 1.0);\n}");const a=n.createShader(n.context.FRAGMENT_SHADER);a.compile("\nprecision mediump float;\nvarying vec4 vColor;\n\nvoid main(void) {\n\tgl_FragColor = vColor;\n}");const u=n.createProgram();u.linkProgram([i,a]),n.useProgram(u);const c=n.createBuffer(),s=n.createBuffer(),f=new Float32Array([0,1,0,1,0,0,-1,0,0]),l=new Float32Array([1,0,0,1,0,1,0,1,0,0,1,1]);c.createVertexPosition(f),s.createVertexPosition(l),u.setAttribute("position",3,c),u.setAttribute("color",4,s);const h=r.create(),d=r.identity(r.create()),m=r.create(),p=r.create(),v=r.create();r.lookAt(d,[0,0,5],[0,0,0],[0,1,0]),r.perspective(m,90,t.width/t.height,.1,100),r.multiply(p,m,d);let _=0;!function t(){!function(){n.clear(),_++;const t=_%360*Math.PI/180,e=Math.cos(t),o=Math.sin(t);r.identity(h),r.translate(h,h,[e,o+1,0]),r.multiply(v,p,h),u.setUniform("Matrix4fv","mvpMatrix",v),n.context.drawArrays(n.context.TRIANGLES,0,3),r.identity(h),r.translate(h,h,[1,-1,0]),r.rotate(h,h,t,[-4,-4,0]),r.multiply(v,p,h),u.setUniform("Matrix4fv","mvpMatrix",v),n.context.drawArrays(n.context.TRIANGLES,0,3);const i=Math.sin(t)+1;r.identity(h),r.translate(h,h,[-3,-2,0]),r.scale(h,h,[i,i,0]),r.multiply(v,p,h),u.setUniform("Matrix4fv","mvpMatrix",v),n.context.drawArrays(n.context.TRIANGLES,0,3),n.context.flush()}(),requestAnimationFrame(t)}()};var et=function(){const t=document.querySelector("#canvas");t.width=document.documentElement.clientWidth,t.height=window.innerHeight;const e=t.getContext("webgl"),n=new o.NISGL(e);n.clear();const i=n.createShader(n.context.VERTEX_SHADER);i.compile("\nattribute vec3 position;\nattribute vec4 color;\nuniform   mat4 mvpMatrix;\nvarying   vec4 vColor;\n\nvoid main(void) {\n    vColor = color;\n    gl_Position = mvpMatrix * vec4(position, 1.0);\n}");const a=n.createShader(n.context.FRAGMENT_SHADER);a.compile("\nprecision mediump float;\nvarying vec4 vColor;\n\nvoid main(void) {\n\tgl_FragColor = vColor;\n}");const u=n.createProgram();u.linkProgram([i,a]),n.useProgram(u);const c=n.createBuffer(),s=n.createBuffer(),f=n.createBuffer(),l=[0,1,2,1,2,3],h=new Float32Array([0,1,0,1,0,0,-1,0,0,0,-1,0]),d=new Float32Array([1,0,0,1,0,1,0,1,0,0,1,1,1,1,1,1]),m=new Int16Array(l);c.createVertexPosition(h),s.createVertexPosition(d),f.createVertexIndex(m),u.setAttribute("position",3,c),u.setAttribute("color",4,s),f.bindBuffer("index");const p=r.create(),v=r.identity(r.create()),_=r.create(),g=r.create(),M=r.create();r.lookAt(v,[0,0,5],[0,0,0],[0,1,0]),r.perspective(_,90,t.width/t.height,.1,100),r.multiply(g,_,v);let x=0;!function t(){!function(){n.clear(),x++;const t=x%360*Math.PI/180;r.identity(p),r.rotate(p,p,t,[0,1,0]),r.multiply(M,g,p),u.setUniform("Matrix4fv","mvpMatrix",M),n.context.drawElements(n.context.TRIANGLES,l.length,n.context.UNSIGNED_SHORT,0),n.context.flush()}(),requestAnimationFrame(t)}()};var nt=function(){const t=document.querySelector("#canvas");t.width=document.documentElement.clientWidth,t.height=window.innerHeight;const e=t.getContext("webgl"),n=new o.NISGL(e);n.clear();const i=n.createShader(n.context.VERTEX_SHADER);i.compile("\nattribute vec3 position;\nattribute vec4 color;\nuniform   mat4 mvpMatrix;\nvarying   vec4 vColor;\n\nvoid main(void) {\n    vColor = color;\n    gl_Position = mvpMatrix * vec4(position, 1.0);\n}");const a=n.createShader(n.context.FRAGMENT_SHADER);a.compile("\nprecision mediump float;\nvarying vec4 vColor;\n\nvoid main(void) {\n\tgl_FragColor = vColor;\n}");const u=n.createProgram();u.linkProgram([i,a]),n.useProgram(u);const c=n.createBuffer(),s=n.createBuffer(),f=n.createBuffer(),l=function(t,e,n,r){const o=[],i=[],a=[];for(let a=0;a<=t;a++){const u=2*Math.PI/t*a,c=Math.cos(u),s=Math.sin(u);for(let t=0;t<=e;t++){const a=2*Math.PI/e*t,u=(c*n+r)*Math.cos(a),f=s*n,l=(c*n+r)*Math.sin(a);o.push(u,f,l);const h=E(360/e*t,1,1,1);i.push(h[0],h[1],h[2],h[3])}}for(let n=0;n<t;n++)for(let t=0;t<e;t++){const r=(e+1)*n+t;a.push(r,r+e+1,r+1),a.push(r+e+1,r+e+2,r+1)}return[o,i,a]}(32,32,1,2);console.log(l);const h=l[0],d=l[1],m=l[2],p=new Float32Array(h),v=new Float32Array(d),_=new Int16Array(m);c.createVertexPosition(p),s.createVertexPosition(v),f.createVertexIndex(_),u.setAttribute("position",3,c),u.setAttribute("color",4,s),f.bindBuffer("index");const g=r.create(),M=r.identity(r.create()),x=r.create(),y=r.create(),A=r.create();r.lookAt(M,[0,0,20],[0,0,0],[0,1,0]),r.perspective(x,45,t.width/t.height,.1,100),r.multiply(y,x,M);let b=0;function E(t,e,n,r){const o=[];if(e>1||n>1||r>1)return;const i=t%360,a=Math.floor(i/60),u=i/60-a,c=n*(1-e),s=n*(1-e*u),f=n*(1-e*(1-u));if(!e>0&&!e<0)o.push(n,n,n,r);else{const t=[n,s,c,c,f,n],e=[f,n,n,s,c,c],i=[c,c,f,n,n,s];o.push(t[a],e[a],i[a],r)}return o}n.context.enable(n.context.DEPTH_TEST),n.context.depthFunc(n.context.LEQUAL),n.context.enable(n.context.CULL_FACE),function t(){!function(){n.clear(),b++;const t=b%360*Math.PI/180;r.identity(g),r.rotate(g,g,t,[0,1,1]),r.multiply(A,y,g),u.setUniform("Matrix4fv","mvpMatrix",A),n.context.drawElements(n.context.TRIANGLES,m.length,n.context.UNSIGNED_SHORT,0),n.context.flush()}(),requestAnimationFrame(t)}()};function rt(){switch(document.body.id){case"triangle":$();break;case"coloredTriangle":!function(){const t=document.querySelector("#canvas");t.width=document.documentElement.clientWidth,t.height=window.innerHeight;const e=t.getContext("webgl"),n=new o.NISGL(e);n.clear();const i=n.createShader(n.context.VERTEX_SHADER);i.compile("\nattribute vec3 position;\nattribute vec4 color;\nuniform   mat4 mvpMatrix;\nvarying   vec4 vColor;\n\nvoid main(void) {\n    vColor = color;\n    gl_Position = mvpMatrix * vec4(position, 1.0);\n}");const a=n.createShader(n.context.FRAGMENT_SHADER);a.compile("\nprecision mediump float;\nvarying vec4 vColor;\n\nvoid main(void) {\n\tgl_FragColor = vColor;\n}");const u=n.createProgram();u.linkProgram([i,a]),n.useProgram(u);const c=n.createBuffer(),s=n.createBuffer(),f=new Float32Array([0,1,0,1,0,0,-1,0,0]),l=new Float32Array([1,0,0,1,0,1,0,1,0,0,1,1]);c.createVertexPosition(f),s.createVertexPosition(l),u.setAttribute("position",3,c),u.setAttribute("color",4,s);const h=r.create(),d=r.identity(r.create()),m=r.create(),p=r.create();r.lookAt(d,[0,1,3],[0,0,0],[0,1,0]),r.perspective(m,90,t.width/t.height,.1,100),r.multiply(p,m,d),r.multiply(p,p,h),u.setUniform("Matrix4fv","mvpMatrix",p),n.context.drawArrays(n.context.TRIANGLES,0,3),n.context.flush()}();break;case"multipleModels":!function(){const t=document.querySelector("#canvas");t.width=document.documentElement.clientWidth,t.height=window.innerHeight;const e=t.getContext("webgl"),n=new o.NISGL(e);n.clear();const i=n.createShader(n.context.VERTEX_SHADER);i.compile("\nattribute vec3 position;\nattribute vec4 color;\nuniform   mat4 mvpMatrix;\nvarying   vec4 vColor;\n\nvoid main(void) {\n    vColor = color;\n    gl_Position = mvpMatrix * vec4(position, 1.0);\n}");const a=n.createShader(n.context.FRAGMENT_SHADER);a.compile("\nprecision mediump float;\nvarying vec4 vColor;\n\nvoid main(void) {\n\tgl_FragColor = vColor;\n}");const u=n.createProgram();u.linkProgram([i,a]),n.useProgram(u);const c=n.createBuffer(),s=n.createBuffer(),f=new Float32Array([0,1,0,1,0,0,-1,0,0]),l=new Float32Array([1,0,0,1,0,1,0,1,0,0,1,1]);c.createVertexPosition(f),s.createVertexPosition(l),u.setAttribute("position",3,c),u.setAttribute("color",4,s);const h=r.create(),d=r.identity(r.create()),m=r.create(),p=r.create(),v=r.create();r.lookAt(d,[0,0,3],[0,0,0],[0,1,0]),r.perspective(m,90,t.width/t.height,.1,100),r.multiply(p,m,d),r.translate(h,h,[1.5,0,0]),r.multiply(v,p,h),u.setUniform("Matrix4fv","mvpMatrix",v),n.context.drawArrays(n.context.TRIANGLES,0,3),r.identity(h),r.translate(h,h,[-1.5,0,0]),r.multiply(v,p,h),u.setUniform("Matrix4fv","mvpMatrix",v),n.context.drawArrays(n.context.TRIANGLES,0,3),n.context.flush()}();break;case"simpleTransition":tt();break;case"diamond":et();break;case"torus":nt();break;default:$()}}document.addEventListener("DOMContentLoaded",()=>{rt()})}})}));